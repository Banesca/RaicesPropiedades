<div class="transaction-modal modal-body bg-yellow text-white">
    <div class="container position-relative font-weight-semibold">
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div *ngIf="!hideForm" class="row">
        <button type="button" class="position-absolute close-button text-white" (click)="activeModal.dismiss('Cross click')">
            <span>&times;</span>
          </button>
      <div class="col-lg-12">
          <div class="row">
            <div class="col-sm-12">
              <label for="exampleFormControlSelect1" class="text-uppercase">Contacto</label>
              <div class="form-group mb-3">
                  <input formControlName="nombre_apellido" type="text" [ngClass]="{ 'is-invalid': submitted && f.nombre_apellido.errors }" class="form-control form-control-lg" placeholder="Nombre y Apellido"
                  aria-describedby="basic-addon1">
                  <div *ngIf="submitted && f.nombre_apellido.errors" type="alert" class="invalid-feedback">
                      <div *ngIf="f.nombre_apellido.errors.required">Nombre y Apellido son Requerido</div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <label for="exampleFormControlSelect1" class="text-uppercase">Teléfono</label>
              <div class="form-group mb-3">
                <input formControlName="telefono" type="text" [ngClass]="{ 'is-invalid': submitted && f.telefono.errors }" class="form-control form-control-lg" placeholder="Teléfono / Celular"
                  aria-describedby="basic-addon1">
                  <div *ngIf="submitted && f.telefono.errors" type="alert" class="invalid-feedback">
                      <div *ngIf="f.telefono.errors.required">El Teléfono es Requerido</div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <label for="exampleFormControlSelect1" class="text-uppercase">Categoría</label>
              <div class="form-group mb-3">
                  <select  formControlName="fk_tipoPropiedad"  [ngClass]="{ 'is-invalid': submitted && f.fk_tipoPropiedad.errors }" class="form-control form-control-lg">
                    <option value="">Seleciona Una Categoría</option>
                    <option  *ngFor="let categoria of mCategorias" type="number" [value]="categoria.idTipoPropiedad">{{categoria.descripcion}}</option>
                    </select>
                  <div *ngIf="submitted && f.fk_tipoPropiedad.errors" type="alert" class="invalid-feedback">
                      <div *ngIf="f.fk_tipoPropiedad.errors.required">La categoría de la propiedades es Requerida</div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <label for="exampleFormControlSelect1" class="text-uppercase">Título</label>
              <div class="form-group mb-3">
                <input formControlName="titulo" type="text" [ngClass]="{ 'is-invalid': submitted && f.titulo.errors }" class="form-control form-control-lg" placeholder="Título"
                  aria-describedby="basic-addon1">
                  <div *ngIf="submitted && f.titulo.errors" type="alert" class="invalid-feedback">
                      <div *ngIf="f.titulo.errors.required">El Título es Requerido</div>
                  </div>
              </div>
            </div>
          </div>
          <label for="exampleFormControlSelect1" class="text-uppercase">Descripción</label>
          <div class="form-group mb-3">
            <textarea formControlName="descripcion" name="" [ngClass]="{ 'is-invalid': submitted && f.descripcion.errors }" cols="20" rows="3" placeholder="Descripción"
              class="form-control form-control-lg"></textarea>
              <div *ngIf="submitted && f.descripcion.errors" type="alert" class="invalid-feedback">
                  <div *ngIf="f.descripcion.errors.required">La Descripción es Requerida</div>
              </div>
          </div>
          <label for="exampleFormControlSelect1" class="text-uppercase">Abjuntar Fotos</label>
          <div class="form-group mb-5 d-sm-flex">
            <input type="text" class="form-control form-control-lg" placeholder="file1.jpg">
            <button class="btn font-weight-bold btn-lg btn-block col-sm-5 text-uppercase mx-auto brown-button">Agregar</button> 
          </div>
          <button class="btn font-weight-bold btn-lg btn-block col-lg-5 text-uppercase mx-auto brown-button">Enviar</button> 
       </div> 
      </div>
    </form>
<div *ngIf="mLoading" class="row">
    <div class="col-lg-12 d-flex justify-content-center my-2">
      <div class="spinner-border main-spinner m-5" role="status" style="color: #39211F; width: 6rem; height: 6rem;">
        <span class="sr-only">Enviando...</span>
      </div>
    </div>
  </div>
  <div *ngIf="successMensaje" class="row">
      <div class="col-lg-12 my-2">
        <h3 class="text-center mt-3 font-weight-bold">Tasacion Creada Exitosamente!</h3>
        <p class="mb-5 text-center font-weight-bold">Pronto nos contactaremos contigo</p>
        <button (click)="submittedClose() ; activeModal.close('Close click')"  class="btn brown-button btn-lg mx-auto btn-block col-lg-5" type="button" data-dismiss="modal" aria-label="Close">Cerrar</button>
      </div>
    </div>
    <div *ngIf="errorMensaje" class="row">
        <div class="col-lg-12 my-2">
          <h3 class="text-center mt-3 font-weight-bold">Ocurrió un error al enviar la Tasacion</h3>
          <p class="mb-5 text-center font-weight-bold">Por favor intete nuevamente</p>
          <button (click)="reintentar()"  class="btn brown-button btn-lg mx-auto btn-block col-lg-5">Volver</button>
        </div>
      </div>
</div>
</div>
